unit Login;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, StdCtrls, Mask, DBCtrls, Buttons, Unit1;

type
  TFormLogin = class(TForm)
    Label1: TLabel;
    Label2: TLabel;
    SpeedButton1: TSpeedButton;
    SpeedButton2: TSpeedButton;
    Edit1: TEdit;
    Edit2: TEdit;
    procedure SpeedButton2Click(Sender: TObject);
    procedure SpeedButton1Click(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  FormLogin: TFormLogin;

implementation

uses Principal;

{$R *.dfm}

procedure TFormLogin.SpeedButton1Click(Sender: TObject);
begin
  FormLogin.Close;
end;

  //*******// Powered by Yisus, root de nacimiento. //*******// 
procedure TFormLogin.SpeedButton2Click(Sender: TObject);
var User:String; Pwd:String;
begin
   FormPrincipal.showmodal;
   FormLogin.Close;
//   Consultas Administrador
   User := unit1.DataModule1.VerificarAdministrador.FieldByName('Usuario').asString;
   Pwd := unit1.DataModule1.VerificarAdministrador.FieldByName('Clave').asString;
   unit1.DataModule1.VerificarAdministrador.Close;
   unit1.DataModule1.VerificarAdministrador.Parameters.ParamByName('QUser').Value:=User;
   unit1.DataModule1.VerificarAdministrador.Parameters.ParamByName('QClave').Value:=Pwd;
   unit1.DataModule1.VerificarAdministrador.Open;
   if unit1.DataModule1.VerificarAdministrador = True then
    showMessage('Sos administrador')
    else showMessage('No sos administrador vaguito');
   
     


end;

end.
